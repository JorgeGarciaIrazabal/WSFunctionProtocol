<!DOCTYPE html>
<html>
<head>
    <title>tornado WebSocket example</title>
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.no-icons.min.css"
          rel="stylesheet">
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script type="text/javascript" src="tornadoProtocol.js"></script>
</head>
<body>
<div class="container">
    <h1>tornado WebSocket example</h1>
    <hr>
    WebSocket status : <span id="message"></span>
    <hr>
    <hr>
    <ul>
        <li>value 201 - 500 : change to yellow</li>
        <li>value 501 - : change to red</li>
    </ul>
    <img src="./rest_api_example.png"/>
</div>


    <script>
    $tornadoInit(12345)
    var $message = $('#message');
    //$tornado.TestClass.client.test = 6
    $tornado.TestClass.client.onTest = function(a,b){
        ;
    }
    //alert($tornado["TestClass"].client["test"])
    $tornado.onopen = function(){
      $message.attr("class", 'label label-success');
      $message.text('open');
      $tornado.TestClass.tast(1,2,3).done(function(data){
        //alert(1)
      }, function(error){
      alert("Error on - " + error)
      });
      $tornado.TestClass.tast(1,2,3).done(function(data){
        //
      }, function(error){
      alert("Error on - " + error)
      });
      $tornado.TestClass.tast(1,2,3).done(function(data){
        //
      }, function(error){
      alert("Error on - " + error)
      });
    };

    $tornado.onclose = function(ev){
      $message.attr("class", 'label label-important');
      $message.text('closed');
    };
    $tornado.onerror = function(ev){
      alert(ev)
    };


</script>
</body>
</html>
